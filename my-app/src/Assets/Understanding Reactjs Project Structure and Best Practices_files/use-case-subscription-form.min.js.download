function toggleSubscriptionForm(){let subscription=document.getElementsByClassName("subscription-form"),arrow=document.getElementsByClassName("white-arrow"),paragraph=document.getElementsByClassName("p-hide"),subscriptionForm=document.getElementById("subscribe-form"),subscribeform=document.getElementsByClassName("subscribe-form");subscription[0].classList.toggle("subscription-active"),arrow[0].classList.toggle("arrow-rotate"),paragraph[0].classList.toggle("hidden"),subscribeform[0].classList.toggle("subscribe-form-display");let thankYouDiv=document.getElementsByClassName("thank-you");"block"===thankYouDiv[0].style.display&&(thankYouDiv[0].style.display="none");let subscriptionActive=document.getElementsByClassName("subscription-active");"none"===subscriptionForm.style.display&&0!==subscriptionActive.length?subscriptionForm.style.display="block":"block"===subscriptionForm.style.display&&0===subscriptionActive.length&&(subscriptionForm.style.display="none")}function hubspotCookie(){return document.cookie.replace(/(?:(?:^|.*;\s*)hubspotutk\s*\=\s*([^;]*).*$)|^.*$/,"$1")}function handleSubscriptionFormSubmit(event){event.preventDefault();let formFields,isFormValid,email=document.getElementById("subscription-email").value,emailMb=document.getElementById("subscription-mb-email").value,subscriptionForm=document.getElementById("subscribe-form"),subscriptionMbForm=document.getElementById("subscribe-mb-form");if(formFields=emailMb?[{name:"email",value:`${emailMb}`}]:[{name:"email",value:`${email}`}],isFormValid=validateSubsEmail(emailMb||email),isFormValid){var xhr=new XMLHttpRequest,data={fields:formFields,skipValidation:!0,legalConsentOptions:{consent:{consentToProcess:!0,text:"I agree to allow Example Company to store and process my personal data.",communications:[{value:!0,subscriptionTypeId:999,text:"I agree to receive marketing communications from Example Company."}]}},context:{hutk:hubspotCookie(),pageUri:window.location.href,pageName:"Xenonstack"}},final_data=JSON.stringify(data);xhr.open("POST","https://api.hsforms.com/submissions/v3/integration/submit/8161231/506201dd-0a19-4b65-8095-24c48dfbb468"),xhr.setRequestHeader("Content-Type","application/json"),xhr.send(final_data),subscriptionForm?subscriptionForm.reset():subscriptionMbForm.reset(),document.getElementsByClassName("thank-you")[0].style.display="block",subscriptionForm.style.display="none"}}function handleSubscriptionMbFormSubmit(event){event.preventDefault();document.getElementById("subscription-email").value;let formFields,isFormValid,emailMb=document.getElementById("subscription-mb-email").value,subscriptionMbForm=document.getElementById("subscribe-mb-form");if(formFields=[{name:"email",value:`${emailMb}`}],isFormValid=validateSubsEmail(emailMb),isFormValid){var xhr=new XMLHttpRequest,data={fields:formFields,skipValidation:!0,legalConsentOptions:{consent:{consentToProcess:!0,text:"I agree to allow Example Company to store and process my personal data.",communications:[{value:!0,subscriptionTypeId:999,text:"I agree to receive marketing communications from Example Company."}]}},context:{hutk:hubspotCookie(),pageUri:window.location.href,pageName:"Xenonstack"}},final_data=JSON.stringify(data);xhr.open("POST","https://api.hsforms.com/submissions/v3/integration/submit/8161231/506201dd-0a19-4b65-8095-24c48dfbb468"),xhr.setRequestHeader("Content-Type","application/json"),xhr.send(final_data),subscriptionMbForm.reset(),document.getElementsByClassName("thank-you-mb")[0].style.display="flex",subscriptionMbForm.style.display="none"}}function validateSubsEmail(email){let isValidForm=!1;if(""===email){let errorText="Please enter your email ID.";document.getElementById("emailSubErr").innerHTML=errorText,document.getElementById("emailMbErr").innerHTML=errorText}else{let pattern=/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i;if(email.match(pattern))document.getElementById("emailSubErr").innerHTML="",document.getElementById("emailMbErr").innerHTML="",isValidForm=!0;else{let errorText="Please enter valid email ID.";document.getElementById("emailSubErr").innerHTML=errorText,document.getElementById("emailMbErr").innerHTML=errorText}}return isValidForm}
//# sourceURL=https://cdn2.hubspot.net/hub/8161231/hub_generated/template_assets/62767681299/1662723937373/xenonstack-hubspot-website/js/use-case-subscription-form.js